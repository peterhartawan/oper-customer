{"remainingRequest":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/pages/enterprise/edit-enterprise.vue?vue&type=style&index=0&id=a79fe5ca&lang=scss&scoped=true&","dependencies":[{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/pages/enterprise/edit-enterprise.vue","mtime":1640440454000},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/css-loader/index.js","mtime":1641690455692},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1641690456354},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/postcss-loader/src/index.js","mtime":1641690456676},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/sass-loader/dist/cjs.js","mtime":1641690460431},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1641690455583},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js","mtime":1641690456354}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.card-base {\n    padding: 20px;\n}\n\n.el-row {\n    padding: 0px 10px;\n\n    &:last-child {\n        margin-bottom: 0;\n    }\n}\n\n.el-col {\n    border-radius: 5px;\n}\n\n.el-select {\n    width: 100%;\n}\n",{"version":3,"sources":["edit-enterprise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4VA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"edit-enterprise.vue","sourceRoot":"src/views/pages/enterprise","sourcesContent":["<template>\n<div class=\"page-table scrollable only-y\" id=\"affix-container\">\n    <!--<vue-scroll class=\"page-typography\">-->\n    <div class=\"card-base card-shadow--medium bg-white\">\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\n            <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"name\">\n                            <el-input placeholder=\"Enterprise Name\" v-model=\"form.name\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"site_url\">\n                            <el-input placeholder=\"Site Url\" v-model=\"form.site_url\">\n                            </el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n\n            <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"office_phone\">\n                            <el-input placeholder=\"Enterprise Office Phone\" @keypress.native=\"isNumber\" v-model=\"form.office_phone\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"email\">\n                            <el-input placeholder=\"Enterprise Email\" v-model=\"form.email\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n\n            <el-row :gutter=\"20\">\n                <el-col :span=\"6\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"id_vendor\">\n                            <el-select v-model=\"form.id_vendor\" placeholder=\"Select Vendor\">\n                                <el-option v-for=\"(item, i) in vendorS\" :key=\"`${i}-${item.idvendor}`\" :label=\"item.name\" :value=\"item.idvendor\"></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"id_enterprise_type\">\n                            <el-select v-model=\"form.id_enterprise_type\" placeholder=\"Select Enterprise Type\">\n                                <el-option label=\"REGULAR\" value=1></el-option>\n                                <el-option label=\"PLUS\" value=2></el-option>\n                            </el-select>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"9\">\n                    <el-form-item prop=\"photoname\">\n                        <div class=\"grid-content\">\n                            <el-input disabled placeholder=\"Browse Foto\" v-model=\"form.photoname\" disable></el-input>\n                        </div>\n                    </el-form-item>\n                </el-col>\n                <el-col :span=\"3\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"photo\">\n                            <el-button @click=\"onPickFile\">Browse</el-button>\n                            <input type=\"file\" style=\"display: none\" ref=\"fileInput\" accept=\"image/*\" @change=\"handleFileChange\">\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n\n            <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"office_address\">\n                            <el-input type=\"textarea\" v-model=\"form.office_address\" placeholder=\"Enterprise Office Address\" :autosize=\"{ minRows: 5, maxRows: 7}\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"12\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"description\">\n                            <el-input type=\"textarea\" v-model=\"form.description\" placeholder=\"Enterprise Description\" :autosize=\"{ minRows: 5, maxRows: 7}\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n\n            <el-row>\n                <el-col :span=\"24\">\n                    <el-col>\n                        <p>PIC</p>\n                        <hr>\n                    </el-col>\n                </el-col>\n            </el-row>\n\n            <el-row :gutter=\"20\">\n                <el-col :span=\"8\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"pic_name\">\n                            <el-input placeholder=\"Pic Name\" v-model=\"form.pic_name\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"8\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"pic_email\">\n                            <el-input placeholder=\"Pic Email\" v-model=\"form.pic_email\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n                <el-col :span=\"8\">\n                    <div class=\"grid-content\">\n                        <el-form-item prop=\"pic_phone\">\n                            <el-input placeholder=\"Pic Phone Number\" @keypress.native=\"isNumber\" v-model=\"form.pic_phone\"></el-input>\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n            <el-row>\n                <el-col :lg=\"{offset:18, span:6}\" style=\"display: flex; justify-content: flex-end\">\n                    <div class=\"grid-content\">\n                        <el-form-item>\n                            <el-button @click=\"cancButton\">Cancel</el-button>\n                            <el-button type=\"success\" v-loading.fullscreen.lock=\"buttonStatuz\" @click=\"onSubmit('form')\">Save</el-button>\n                        </el-form-item>\n                    </div>\n                </el-col>\n            </el-row>\n        </el-form>\n    </div>\n</div>\n<!--</vue-scroll>-->\n</template>\n\n<script>\nimport * as action from '../../../store/action-types'\nimport * as getter from '../../../store/getters-types'\nimport * as mutation from '../../../store/mutation-types'\nimport {\n    mapActions,\n    mapGetters\n} from 'vuex'\n\nexport default {\n    data() {\n        let validateUrl = (rule, value, callback) => {\n            if (!value.match(/^http[s]?:\\/\\/([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/g)) {\n                callback(new Error('Please Input Valid Url, start with http://'))\n            } else {\n                callback()\n            }\n        };\n        let validatePhone = (rule, value, callback) => {\n            if ((value + '').length > 13) {\n                callback(new Error('Phone must be less than 13 digits'))\n            } else {\n                if ((value + '').length < 10) {\n                    callback(new Error('Phone must be more than 10 digits'))\n                } else {\n                    callback()\n                }\n            }\n\n        };\n        return {\n            vendor: '',\n            form: {\n                fullscreen_loading: false,\n                name: '',\n                photoname: '',\n                photo: null,\n                email: '',\n                description: '',\n                id_enterprise_type: '',\n                id_vendor: '',\n                office_phone: '',\n                office_address: '',\n                pic_name: '',\n                pic_email: '',\n                pic_phone: '',\n                id: '',\n                site_url: ''\n            },\n            rules: {\n                name: [{\n                    required: true,\n                    message: 'Please Input Enterprise Name',\n                    trigger: ['change', 'blur']\n                }],\n                site_url: [{\n                        required: true,\n                        message: 'Please Input Site Url',\n                        trigger: ['change', 'blur']\n                    },\n                    {\n                        validator: validateUrl,\n                        trigger: 'blur'\n                    }\n                ],\n                description: [{\n                    required: true,\n                    message: 'Please Input Description',\n                    trigger: ['change', 'blur']\n                }],\n                email: [{\n                    required: true,\n                    message: 'Please Input Enterprise Email',\n                    trigger: ['change', 'blur']\n                }],\n                id_vendor: [{\n                    required: true,\n                    message: 'Please select Vendor',\n                    trigger: ['change', 'blur']\n                }],\n                id_enterprise_type: [{\n                    required: true,\n                    message: 'Please select Enterprise Type',\n                    trigger: ['change', 'blur']\n                }],\n                office_phone: [{\n                        required: true,\n                        message: 'Please Input Enterprise Phone Number',\n                        trigger: ['change', 'blur']\n                    },\n                    {\n                        validator: validatePhone,\n                        trigger: ['blur', 'change']\n                    }\n                ],\n                office_address: [{\n                    required: true,\n                    message: 'Please Input Enterprise Office Address',\n                    trigger: ['change', 'blur']\n                }],\n                pic_name: [{\n                    required: true,\n                    message: 'Please Input Pic Name',\n                    trigger: ['change', 'blur']\n                }],\n                pic_phone: [{\n                        required: true,\n                        message: 'Please Input Pic Phone',\n                        trigger: ['change', 'blur']\n                    },\n                    {\n                        validator: validatePhone,\n                        trigger: ['blur', 'change']\n                    }\n                ],\n                pic_email: [{\n                    required: true,\n                    message: 'Please Input Pic Email',\n                    trigger: ['change', 'blur']\n                }],\n                admin_name: [{\n                    required: true,\n                    message: 'Please Input Admin Name',\n                    trigger: ['change', 'blur']\n                }],\n                admin_email: [{\n                    required: true,\n                    message: 'Please Input Admin Email',\n                    trigger: ['change', 'blur']\n                }],\n                admin_phone: [{\n                        required: true,\n                        message: 'Please Input Admin Phone',\n                        trigger: ['change', 'blur']\n                    },\n                    {\n                        validator: validatePhone,\n                        trigger: ['blur', 'change']\n                    }\n                ]\n            }\n        }\n    },\n    computed: {\n        ...mapGetters({\n            button: getter.GET_BUTTON,\n            vendorS: getter.GET_DROPDOWN_VENDOR\n        }),\n        buttonStatuz: function () {\n            return this.form.fullscreen_loading = this.button\n        }\n    },\n    methods: {\n        onSubmit(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    this.$store.commit(mutation.BUTTON_STATUS, true)\n                    this.$store.dispatch(action.UPDATE_CORP, this.form);\n                } else {\n                    // console.log('error submit!!');\n                    return false;\n                }\n            });\n        },\n        onPickFile() {\n            this.$refs.fileInput.click();\n        },\n        handleFileChange(event) {\n            this.form.photo = event.target.files[0]\n            this.form.photoname = event.target.files[0].name\n        },\n        cancButton() {\n            this.$router.replace(`/detail-enterprise/${this.form.id}`)\n        },\n        isNumber(evt) {\n            evt = (evt) ? evt : window.event;\n            var charCode = (evt.which) ? evt.which : evt.keyCode;\n            if ((charCode > 31 && (charCode < 48 || charCode > 57))) {\n                evt.preventDefault();;\n            } else {\n                return true;\n            }\n        }\n    },\n    async created() {\n        let dat = await this.$store.dispatch(action.DATA_ID_CORP, this.$route.params.id)\n\n        this.form.name = dat.name,\n            this.form.email = dat.email,\n            this.form.description = dat.description,\n            this.form.id_enterprise_type = dat.enterprise_type_identerprise_type + '',\n            this.form.id_vendor = dat.vendor.idvendor,\n            this.form.office_phone = dat.office_phone,\n            this.form.office_address = dat.office_address,\n            this.form.pic_name = dat.pic_name,\n            this.form.pic_email = dat.pic_email,\n            this.form.pic_phone = dat.pic_phone,\n            this.form.id = this.$route.params.id\n        this.form.site_url = dat.site_url\n        await this.$store.dispatch(action.DROPDOWN_VENDOR)\n        // console.log('ku ingin marah keduaq :', dat.vendor)\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.card-base {\n    padding: 20px;\n}\n\n.el-row {\n    padding: 0px 10px;\n\n    &:last-child {\n        margin-bottom: 0;\n    }\n}\n\n.el-col {\n    border-radius: 5px;\n}\n\n.el-select {\n    width: 100%;\n}\n</style>\n"]}]}