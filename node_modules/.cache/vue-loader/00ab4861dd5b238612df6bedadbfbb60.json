{"remainingRequest":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\src\\views\\pages\\enterprise\\edit-enterprise.vue?vue&type=style&index=0&id=a79fe5ca&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\src\\views\\pages\\enterprise\\edit-enterprise.vue","mtime":1647032353846},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\update-request-driver-automation-update\\oper-customer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.card-base {\r\n    padding: 20px;\r\n}\r\n\r\n.el-row {\r\n    padding: 0px 10px;\r\n\r\n    &:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n}\r\n\r\n.el-col {\r\n    border-radius: 5px;\r\n}\r\n\r\n.el-select {\r\n    width: 100%;\r\n}\r\n",{"version":3,"sources":["edit-enterprise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4VA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"edit-enterprise.vue","sourceRoot":"src/views/pages/enterprise","sourcesContent":["<template>\r\n<div class=\"page-table scrollable only-y\" id=\"affix-container\">\r\n    <!--<vue-scroll class=\"page-typography\">-->\r\n    <div class=\"card-base card-shadow--medium bg-white\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"name\">\r\n                            <el-input placeholder=\"Enterprise Name\" v-model=\"form.name\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"site_url\">\r\n                            <el-input placeholder=\"Site Url\" v-model=\"form.site_url\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"office_phone\">\r\n                            <el-input placeholder=\"Enterprise Office Phone\" @keypress.native=\"isNumber\" v-model=\"form.office_phone\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"email\">\r\n                            <el-input placeholder=\"Enterprise Email\" v-model=\"form.email\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"6\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"id_vendor\">\r\n                            <el-select v-model=\"form.id_vendor\" placeholder=\"Select Vendor\">\r\n                                <el-option v-for=\"(item, i) in vendorS\" :key=\"`${i}-${item.idvendor}`\" :label=\"item.name\" :value=\"item.idvendor\"></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"id_enterprise_type\">\r\n                            <el-select v-model=\"form.id_enterprise_type\" placeholder=\"Select Enterprise Type\">\r\n                                <el-option label=\"REGULAR\" value=1></el-option>\r\n                                <el-option label=\"PLUS\" value=2></el-option>\r\n                            </el-select>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"9\">\r\n                    <el-form-item prop=\"photoname\">\r\n                        <div class=\"grid-content\">\r\n                            <el-input disabled placeholder=\"Browse Foto\" v-model=\"form.photoname\" disable></el-input>\r\n                        </div>\r\n                    </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"3\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"photo\">\r\n                            <el-button @click=\"onPickFile\">Browse</el-button>\r\n                            <input type=\"file\" style=\"display: none\" ref=\"fileInput\" accept=\"image/*\" @change=\"handleFileChange\">\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"office_address\">\r\n                            <el-input type=\"textarea\" v-model=\"form.office_address\" placeholder=\"Enterprise Office Address\" :autosize=\"{ minRows: 5, maxRows: 7}\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"description\">\r\n                            <el-input type=\"textarea\" v-model=\"form.description\" placeholder=\"Enterprise Description\" :autosize=\"{ minRows: 5, maxRows: 7}\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-row>\r\n                <el-col :span=\"24\">\r\n                    <el-col>\r\n                        <p>PIC</p>\r\n                        <hr>\r\n                    </el-col>\r\n                </el-col>\r\n            </el-row>\r\n\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"pic_name\">\r\n                            <el-input placeholder=\"Pic Name\" v-model=\"form.pic_name\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"pic_email\">\r\n                            <el-input placeholder=\"Pic Email\" v-model=\"form.pic_email\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item prop=\"pic_phone\">\r\n                            <el-input placeholder=\"Pic Phone Number\" @keypress.native=\"isNumber\" v-model=\"form.pic_phone\"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <el-row>\r\n                <el-col :lg=\"{offset:18, span:6}\" style=\"display: flex; justify-content: flex-end\">\r\n                    <div class=\"grid-content\">\r\n                        <el-form-item>\r\n                            <el-button @click=\"cancButton\">Cancel</el-button>\r\n                            <el-button type=\"success\" v-loading.fullscreen.lock=\"buttonStatuz\" @click=\"onSubmit('form')\">Save</el-button>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </el-form>\r\n    </div>\r\n</div>\r\n<!--</vue-scroll>-->\r\n</template>\r\n\r\n<script>\r\nimport * as action from '../../../store/action-types'\r\nimport * as getter from '../../../store/getters-types'\r\nimport * as mutation from '../../../store/mutation-types'\r\nimport {\r\n    mapActions,\r\n    mapGetters\r\n} from 'vuex'\r\n\r\nexport default {\r\n    data() {\r\n        let validateUrl = (rule, value, callback) => {\r\n            if (!value.match(/^http[s]?:\\/\\/([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/g)) {\r\n                callback(new Error('Please Input Valid Url, start with http://'))\r\n            } else {\r\n                callback()\r\n            }\r\n        };\r\n        let validatePhone = (rule, value, callback) => {\r\n            if ((value + '').length > 13) {\r\n                callback(new Error('Phone must be less than 13 digits'))\r\n            } else {\r\n                if ((value + '').length < 10) {\r\n                    callback(new Error('Phone must be more than 10 digits'))\r\n                } else {\r\n                    callback()\r\n                }\r\n            }\r\n\r\n        };\r\n        return {\r\n            vendor: '',\r\n            form: {\r\n                fullscreen_loading: false,\r\n                name: '',\r\n                photoname: '',\r\n                photo: null,\r\n                email: '',\r\n                description: '',\r\n                id_enterprise_type: '',\r\n                id_vendor: '',\r\n                office_phone: '',\r\n                office_address: '',\r\n                pic_name: '',\r\n                pic_email: '',\r\n                pic_phone: '',\r\n                id: '',\r\n                site_url: ''\r\n            },\r\n            rules: {\r\n                name: [{\r\n                    required: true,\r\n                    message: 'Please Input Enterprise Name',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                site_url: [{\r\n                        required: true,\r\n                        message: 'Please Input Site Url',\r\n                        trigger: ['change', 'blur']\r\n                    },\r\n                    {\r\n                        validator: validateUrl,\r\n                        trigger: 'blur'\r\n                    }\r\n                ],\r\n                description: [{\r\n                    required: true,\r\n                    message: 'Please Input Description',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                email: [{\r\n                    required: true,\r\n                    message: 'Please Input Enterprise Email',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                id_vendor: [{\r\n                    required: true,\r\n                    message: 'Please select Vendor',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                id_enterprise_type: [{\r\n                    required: true,\r\n                    message: 'Please select Enterprise Type',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                office_phone: [{\r\n                        required: true,\r\n                        message: 'Please Input Enterprise Phone Number',\r\n                        trigger: ['change', 'blur']\r\n                    },\r\n                    {\r\n                        validator: validatePhone,\r\n                        trigger: ['blur', 'change']\r\n                    }\r\n                ],\r\n                office_address: [{\r\n                    required: true,\r\n                    message: 'Please Input Enterprise Office Address',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                pic_name: [{\r\n                    required: true,\r\n                    message: 'Please Input Pic Name',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                pic_phone: [{\r\n                        required: true,\r\n                        message: 'Please Input Pic Phone',\r\n                        trigger: ['change', 'blur']\r\n                    },\r\n                    {\r\n                        validator: validatePhone,\r\n                        trigger: ['blur', 'change']\r\n                    }\r\n                ],\r\n                pic_email: [{\r\n                    required: true,\r\n                    message: 'Please Input Pic Email',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                admin_name: [{\r\n                    required: true,\r\n                    message: 'Please Input Admin Name',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                admin_email: [{\r\n                    required: true,\r\n                    message: 'Please Input Admin Email',\r\n                    trigger: ['change', 'blur']\r\n                }],\r\n                admin_phone: [{\r\n                        required: true,\r\n                        message: 'Please Input Admin Phone',\r\n                        trigger: ['change', 'blur']\r\n                    },\r\n                    {\r\n                        validator: validatePhone,\r\n                        trigger: ['blur', 'change']\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            button: getter.GET_BUTTON,\r\n            vendorS: getter.GET_DROPDOWN_VENDOR\r\n        }),\r\n        buttonStatuz: function () {\r\n            return this.form.fullscreen_loading = this.button\r\n        }\r\n    },\r\n    methods: {\r\n        onSubmit(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    this.$store.commit(mutation.BUTTON_STATUS, true)\r\n                    this.$store.dispatch(action.UPDATE_CORP, this.form);\r\n                } else {\r\n                    // console.log('error submit!!');\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        onPickFile() {\r\n            this.$refs.fileInput.click();\r\n        },\r\n        handleFileChange(event) {\r\n            this.form.photo = event.target.files[0]\r\n            this.form.photoname = event.target.files[0].name\r\n        },\r\n        cancButton() {\r\n            this.$router.push(`/detail-enterprise/${this.form.id}`)\r\n        },\r\n        isNumber(evt) {\r\n            evt = (evt) ? evt : window.event;\r\n            var charCode = (evt.which) ? evt.which : evt.keyCode;\r\n            if ((charCode > 31 && (charCode < 48 || charCode > 57))) {\r\n                evt.preventDefault();;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    },\r\n    async created() {\r\n        let dat = await this.$store.dispatch(action.DATA_ID_CORP, this.$route.params.id)\r\n\r\n        this.form.name = dat.name,\r\n            this.form.email = dat.email,\r\n            this.form.description = dat.description,\r\n            this.form.id_enterprise_type = dat.enterprise_type_identerprise_type + '',\r\n            this.form.id_vendor = dat.vendor.idvendor,\r\n            this.form.office_phone = dat.office_phone,\r\n            this.form.office_address = dat.office_address,\r\n            this.form.pic_name = dat.pic_name,\r\n            this.form.pic_email = dat.pic_email,\r\n            this.form.pic_phone = dat.pic_phone,\r\n            this.form.id = this.$route.params.id\r\n        this.form.site_url = dat.site_url\r\n        await this.$store.dispatch(action.DROPDOWN_VENDOR)\r\n        // console.log('ku ingin marah keduaq :', dat.vendor)\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card-base {\r\n    padding: 20px;\r\n}\r\n\r\n.el-row {\r\n    padding: 0px 10px;\r\n\r\n    &:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n}\r\n\r\n.el-col {\r\n    border-radius: 5px;\r\n}\r\n\r\n.el-select {\r\n    width: 100%;\r\n}\r\n</style>\r\n"]}]}