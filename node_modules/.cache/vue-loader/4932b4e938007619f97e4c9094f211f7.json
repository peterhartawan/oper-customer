{"remainingRequest":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/pages/driver/request-list.vue?vue&type=style&index=0&id=9faba444&lang=scss&scoped=true&","dependencies":[{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/pages/driver/request-list.vue","mtime":1643215941843},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/css-loader/index.js","mtime":1641690455692},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1641690456354},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/postcss-loader/src/index.js","mtime":1641690456676},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/sass-loader/dist/cjs.js","mtime":1641690460431},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1641690455583},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js","mtime":1641690456354}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"../../../assets/scss/_variables\";\n\n.card-base {\n  padding: 20px;\n}\n\n.el-row {\n  // display: flex;\n  // align-items: center;\n  // justify-content: center;\n  padding: 0px 10px;\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.el-col {\n  border-radius: 5px;\n}\n\n.el-radio {\n  margin: 0 160px 0 10px;\n}\n\n.el-select {\n  width: 100%;\n}\n\n.thumbnail {\n  position: relative;\n  width: 300px;\n  height: 300px;\n  overflow: hidden;\n}\n\n.thumbnail img {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  height: 100%;\n  width: auto;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n\n.thumbnail img.portrait {\n  width: 100%;\n  height: auto;\n}\n\na {\n  border-style: dotted;\n  border-radius: 15px;\n  padding: 10px;\n  height: 150px;\n}\n\ntd {\n  padding: 10px;\n}\n",{"version":3,"sources":["request-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsQA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"request-list.vue","sourceRoot":"src/views/pages/driver","sourcesContent":["<template>\n  <div class=\"page-table scrollable only-y\" id=\"affix-container\">\n    <div class=\"card-base card-shadow--medium bg-white\" v-loading=\"loading\">\n      <el-row\n        type=\"flex\"\n        :gutter=\"10\"\n        justify=\"end\"\n        style=\"margin-top: 20px\"\n        v-if=\"this.idrole === 2\"\n      >\n        <el-col :span=\"4\">\n          <el-input placeholder=\"Search\" v-model=\"search\"> </el-input>\n        </el-col>\n        <!-- <el-col :span=\"4\">\n          <el-input\n            placeholder=\"Nama Enterprise\"\n            v-model=\"form.enterprise_name\"\n          >\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-select v-model=\"dropdown_location\" placeholder=\"Pilih Lokasi\">\n            <el-option\n              v-for=\"item in dropdown_location\"\n              :key=\"item.value\"\n              :label=\"item.name\"\n              :value=\"item.idplaces\"\n            ></el-option>\n          </el-select>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-date-picker\n            format=\"dd MMM yyyy\"\n            value-format=\"dd MMM yyyy\"\n            style=\"width: 100%\"\n            v-model=\"form.date\"\n            type=\"date\"\n            placeholder=\"Tanggal\"\n          ></el-date-picker>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-time-picker\n            v-model=\"form.time\"\n            type=\"time\"\n            placeholder=\"00:00\"\n            format=\"HH:mm\"\n            value-format=\"HH:mm\"\n            style=\"width: 100%\"\n          >\n          </el-time-picker>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-input placeholder=\"Jumlah\" v-model=\"form.numbers_of_drivers\">\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-input placeholder=\"Note\" v-model=\"form.note\"> </el-input>\n        </el-col>\n\n        <el-col :span=\"1\">\n          <el-button\n            icon=\"el-icon-search\"\n            @click=\"searchSquare\"\n            style=\"background: #d50000; font-size: 17px; color: white\"\n            square\n          >\n          </el-button>\n        </el-col> -->\n      </el-row>\n      <el-row v-if=\"this.idrole === 5\" :gutter=\"20\" type=\"flex\" justify=\"end\">\n        <el-button @click=\"reqDriver\" type=\"primary\">\n          Request Driver\n        </el-button>\n      </el-row>\n      <el-row>\n        <el-table\n          :data=\"\n            tableData.filter(\n              (data) =>\n                !search ||\n                data.enterprise.name\n                  .toLowerCase()\n                  .includes(search.toLowerCase()) ||\n                data.place.name.toLowerCase().includes(search.toLowerCase()) ||\n                data.date.toLowerCase().includes(search.toLowerCase()) ||\n                data.time.toLowerCase().includes(search.toLowerCase()) ||\n                data.note.toLowerCase().includes(search.toLowerCase()) ||\n                data.number_of_drivers.toString().includes(search.toLowerCase())\n            )\n          \"\n          style=\"width: 100%\"\n        >\n          <el-table-column\n            type=\"index\"\n            align=\"center\"\n            label=\"NO\"\n            width=\"60\"\n          ></el-table-column>\n          <el-table-column\n            v-if=\"this.idrole === 2\"\n            prop=\"enterprise.name\"\n            align=\"center\"\n            label=\"ENTERPRISE\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"place.name\"\n            align=\"center\"\n            label=\"LOKASI\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"date\"\n            header-align=\"center\"\n            align=\"center\"\n            label=\"TANGGAL\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"time\"\n            header-align=\"center\"\n            align=\"center\"\n            label=\"JAM\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"number_of_drivers\"\n            header-align=\"center\"\n            align=\"center\"\n            label=\"JUMLAH\"\n          ></el-table-column>\n          <el-table-column\n            prop=\"note\"\n            header-align=\"center\"\n            align=\"center\"\n            label=\"NOTES\"\n          ></el-table-column>\n        </el-table>\n      </el-row>\n      <el-row :gutter=\"20\">\n        <div align=\"right\" style=\"margin-bottom: 10px\">\n          <el-pagination\n            background\n            layout=\"prev, pager, next\"\n            :current-page.sync=\"currentPage\"\n            @current-change=\"handlePageChange\"\n            :total=\"totalData\"\n          ></el-pagination>\n        </div>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\nimport router from \"../../../router\";\nimport moment from \"moment\";\nimport Affix from \"@/components/Affix\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport * as mutation from \"../../../store/mutation-types\";\nimport * as getter from \"../../../store/getters-types\";\nimport * as action from \"../../../store/action-types\";\nexport default {\n  name: \"RequestList\",\n  data() {\n    return {\n      search: \"\",\n      status: \"\",\n      type: \"\",\n      dropdown_location: \"\",\n      totalData: null,\n      currentPage: null,\n      idrole: \"\",\n      tableData: [],\n      form: {},\n    };\n  },\n  components: {\n    Affix,\n  },\n  methods: {\n    Cancel() {\n      this.$router.replace(\"/driver\");\n    },\n    isNumber(evt) {\n      evt = evt ? evt : window.event;\n      var charCode = evt.which ? evt.which : evt.keyCode;\n      if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n        evt.preventDefault();\n      } else {\n        return true;\n      }\n    },\n    reqDriver() {\n      this.$router.replace(\"/driver/request-driver\");\n    },\n    handlePageChange(page) {\n      this.currentPage = page;\n      this.$store.commit(mutation.BUTTON_STATUS, true);\n      this.$store.dispatch(action.LIST_DISPATCHER, {\n        page: this.currentPage,\n        dispathcer_search: input4,\n        typedispatcher: this.type,\n        status: this.status,\n      });\n    },\n    findLocation(id) {\n      this.list.forEach((element) => {});\n    },\n    formatTime() {\n      this.form.purpose_time = moment(\n        this.form.date + \" \" + this.form.time\n      ).format(\"YYYY-MM-DD hh:mm:ss\");\n    },\n    searchSquare() {\n      formatTime();\n      let obj = {\n        page: this.currentPage,\n        path: this.$route.path,\n        enterprise_name: this.form.enterprise.name,\n        place_name: this.form.place.name,\n        purpose_time: this.form.purpose_time,\n        number_of_drivers: this.form.number_of_drivers,\n        idvendor: this.form.idvendor,\n      };\n      this.$store.dispatch(action.LIST_ORDER_CLIENT, obj);\n    },\n  },\n  async created() {\n    await this.listData;\n    await this.profile;\n    await this.dropdown_location;\n  },\n  computed: {\n    ...mapGetters({\n      listData: getter.GET_LIST_REQ_DRIVER,\n      error: getter.GET_ERROR,\n      venID: getter.GET_VENDOR_PROFILE,\n      button: getter.GET_BUTTON,\n      loading: getter.GET_LOADING,\n      vendor: getter.VENDOR,\n      profile: getter.GET_DATA_PROFILE,\n    }),\n  },\n  async mounted() {\n    this.dropdown_location = await this.$store.dispatch(\n      action.DROPDOWN_LOCATION\n    );\n    await this.$store.dispatch(\n      action.LIST_REQ_DRIVER,\n      this.profile.idrole === 5 ? this.profile.enterprise.identerprise : \"\"\n    );\n    this.$store.dispatch(action.VENDOR_PROFILE);\n    this.listData.dataList.forEach((el) => {\n      el.date = moment(el.purpose_time).format(\"DD MMMM YYYY\");\n      el.time = moment(el.purpose_time).format(\"hh:mm\");\n    });\n    this.tableData = this.listData.dataList;\n    this.totalData = this.listData.total;\n    this.currentPage = this.listData.fromPA;\n    this.idrole = this.profile.idrole;\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../../assets/scss/_variables\";\n\n.card-base {\n  padding: 20px;\n}\n\n.el-row {\n  // display: flex;\n  // align-items: center;\n  // justify-content: center;\n  padding: 0px 10px;\n  margin-bottom: 10px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n\n.el-col {\n  border-radius: 5px;\n}\n\n.el-radio {\n  margin: 0 160px 0 10px;\n}\n\n.el-select {\n  width: 100%;\n}\n\n.thumbnail {\n  position: relative;\n  width: 300px;\n  height: 300px;\n  overflow: hidden;\n}\n\n.thumbnail img {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  height: 100%;\n  width: auto;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n\n.thumbnail img.portrait {\n  width: 100%;\n  height: auto;\n}\n\na {\n  border-style: dotted;\n  border-radius: 15px;\n  padding: 10px;\n  height: 150px;\n}\n\ntd {\n  padding: 10px;\n}\n</style>\n"]}]}