{"remainingRequest":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\src\\views\\ui\\Tables\\V2TablePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\src\\views\\ui\\Tables\\V2TablePage.vue","mtime":1644413760853},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\.babelrc","mtime":1644413672252},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\babel-loader\\lib\\index.js","mtime":1646338474621},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Documents\\GitHub\\oper-customer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport users from '@/assets/data/USERS_MOCK_DATA.json';\nimport moment from 'moment-timezone'; // import Papa from 'papaparse'\n\nimport * as FS from 'file-saver';\nexport default {\n  name: 'V2TablePage',\n  data: function data() {\n    return {\n      isMobile: false,\n      asyncComponent: null,\n      width: 0,\n      height: 'auto',\n      currentPage: 1,\n      loading: false,\n      shownPagination: true,\n      showSummary: false,\n      search: '',\n      paginationInfo: {\n        //text: `<span><strong>20</strong> per page</span>`,\n        pageSize: 20,\n        nextPageText: '›',\n        prevPageText: '‹'\n      },\n      sortingProp: \"birth_day\",\n      sortingOrder: \"descending\",\n      list: users\n    };\n  },\n  computed: {\n    listFiltered: function listFiltered() {\n      var _this = this;\n\n      return this.list.filter(function (obj) {\n        var ctrl = false;\n\n        for (var k in obj) {\n          if (obj[k] && obj[k].toString().toLowerCase().indexOf(_this.search.toLowerCase()) !== -1) ctrl = true;\n        }\n\n        return ctrl;\n      });\n    },\n    listSortered: function listSortered() {\n      var prop = this.sortingProp;\n      var order = this.sortingOrder;\n      return [].concat(this.listFiltered.sort(function (item1, item2) {\n        var val1 = '';\n        var val2 = '';\n        /*if (prop === 'formatted_date') {\r\n        \tval1 = parseInt(moment(item1[prop], 'DD/MM/YYYY').format('x'))\r\n        \tval2 = parseInt(moment(item2[prop], 'DD/MM/YYYY').format('x'))\r\n        \tif (order === 'descending') {\r\n        \t\treturn val2 < val1 ? -1 : 1\r\n        \t}\r\n        \treturn val1 < val2 ? -1 : 1\r\n        }*/\n\n        val1 = item1[prop];\n        val2 = item2[prop];\n\n        if (order === 'descending') {\n          return val2 < val1 ? -1 : 1;\n        }\n\n        return val1 < val2 ? -1 : 1;\n      }));\n    },\n    listInPage: function listInPage() {\n      var from = (this.currentPage - 1) * this.pageSize;\n      var to = from + this.pageSize * 1;\n      return this.listSortered.slice(from, to);\n    },\n    total: function total() {\n      return this.listFiltered.length;\n    },\n    pageSize: function pageSize() {\n      return this.paginationInfo.pageSize;\n    }\n  },\n  watch: {\n    total: function total(val) {\n      this.updatePaginationText();\n    },\n    asyncComponent: function asyncComponent(val) {\n      this.updatePaginationText();\n    },\n    pageSize: function pageSize(val) {\n      var _this2 = this;\n\n      this.asyncComponent = null;\n      this.currentPage = 1;\n      setTimeout(function () {\n        _this2.asyncComponent = 'v2-table';\n      }, 500);\n    },\n    search: function search(val) {\n      this.currentPage = 1;\n    },\n    currentPage: function currentPage(val) {\n      this.$refs.table.curPage = val;\n    }\n  },\n  methods: {\n    updatePaginationText: function updatePaginationText() {\n      this.paginationInfo.text = \"<span>Total of <strong>\".concat(this.total, \"</strong>, <strong>\").concat(this.paginationInfo.pageSize, \"</strong> per page</span>\");\n    },\n    handlePageChange: function handlePageChange(page) {\n      this.currentPage = page;\n    },\n    handleSortChange: function handleSortChange(_ref) {\n      var prop = _ref.prop,\n          order = _ref.order;\n      this.sortingProp = prop;\n      this.sortingOrder = order;\n    },\n    handleSelectChange: function handleSelectChange(rows) {\n      console.log('handleSelectChange', rows);\n    },\n    downloadCSV: function downloadCSV() {// var dataCSV = Papa.unparse(this.listFiltered, {header: true});\n      // const blob = new Blob([dataCSV], {type: 'text/csv;charset=utf-8'})\n      // FS.saveAs(blob, 'list.csv')\n    },\n    print: function print(row) {\n      var message = '';\n\n      for (var k in row) {\n        message += k + ': <strong>' + row[k] + '</strong><br>';\n      }\n\n      this.$alert(message, row.full_name || 'Message', {\n        dangerouslyUseHTMLString: true\n      });\n    },\n    calcDims: function calcDims() {\n      this.width = document.getElementById('table-wrapper').clientWidth;\n\n      if (!this.isMobile) {\n        this.height = document.getElementById('table-wrapper').clientHeight - 40;\n        if (this.showSummary) this.height -= 40;\n        if (this.shownPagination) this.height -= 40;\n      }\n\n      this.asyncComponent = 'v2-table';\n    },\n    handleResize: _.throttle(function (e) {\n      this.asyncComponent = null;\n      this.width = 0;\n      this.currentPage = 1;\n      setTimeout(this.calcDims, 1000);\n    }, 500)\n  },\n  filters: {\n    selected: function selected(value, sel) {\n      if (!value) return '';\n      if (!sel) return value;\n      return value.toString().replace(new RegExp(sel, \"gim\"), \"<span class=\\\"sel\\\">\".concat(sel, \"</span>\"));\n    }\n  },\n  created: function created() {\n    if (window.innerWidth <= 768) this.isMobile = true;\n    this.updatePaginationText();\n  },\n  mounted: function mounted() {\n    //ie fix\n    if (!window.Number.parseInt) window.Number.parseInt = parseInt;\n    this.calcDims();\n  }\n};",{"version":3,"sources":["V2TablePage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"page-table column scrollable only-y\" :class=\"{'flex':!isMobile, 'overflow':isMobile}\">\r\n\t\t<div class=\"page-header\">\r\n\t\t\t<h1>V2 Table</h1>\r\n\t\t\t<h4>for a better experience on Mac OS during horizontal scroll is prefered disable the \"Swipe between pages\" option </h4>\r\n\t\t\t<el-breadcrumb separator=\"/\">\r\n\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/' }\"><i class=\"mdi mdi-home-outline\"></i></el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>Components</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>Tables</el-breadcrumb-item>\r\n\t\t\t\t<el-breadcrumb-item>V2 Table</el-breadcrumb-item>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"toolbar-box flex\">\r\n\t\t\t<div class=\"search-box box grow\">\r\n\t\t\t\t<div><i class=\"mdi mdi-magnify\"></i></div>\r\n\t\t\t\t<input v-model=\"search\" placeholder=\"Search...\"/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"pagination-box animated fadeInRight\">\r\n\t\t\t\t<div class=\"select-box\">\r\n\t\t\t\t\t<el-select v-model=\"paginationInfo.pageSize\" placeholder=\"Rows per page\" size=\"mini\">\r\n\t\t\t\t\t\t<el-option value=\"10\" label=\"10\"></el-option>\r\n\t\t\t\t\t\t<el-option value=\"15\" label=\"15\"></el-option>\r\n\t\t\t\t\t\t<el-option value=\"20\" label=\"20\"></el-option>\r\n\t\t\t\t\t\t<el-option value=\"30\" label=\"30\"></el-option>\r\n\t\t\t\t\t\t<el-option value=\"50\" label=\"50\"></el-option>\r\n\t\t\t\t\t\t<el-option value=\"100\" label=\"100\"></el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"label\">/page</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"csv-box animated fadeInRight\">\r\n\t\t\t\t<button @click=\"downloadCSV\">download csv ({{total}})</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"animated fadeInRight\"><a href=\"https://github.com/dwqs/v2-table\" target=\"_blank\"><i class=\"mdi mdi-link-variant\"></i> reference</a></div>\r\n\t\t</div>\r\n\r\n\t\t<resize-observer @notify=\"handleResize\" />\r\n\t\t\r\n\t\t<div class=\"table-box card-base card-shadow--medium box grow\" id=\"table-wrapper\" v-loading=\"!asyncComponent\">\r\n\t\t\t<div :style=\"{ 'width': width + 'px' }\">\r\n\t\t\t\t<!-- v2-table -->\r\n\t\t\t\t<component :is=\"asyncComponent\" ref=\"table\"\r\n\t\t\t\t \t:data=\"listInPage\"\r\n\t\t\t\t\t:height=\"height\"\r\n\t\t\t\t\t:border=\"false\"\r\n\t\t\t\t\t:total=\"total\"\r\n\t\t\t\t\t:lazy-load=\"false\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\tclass=\"styled\"\r\n\t\t\t\t\t:class=\"{'mobile':isMobile}\"\r\n\t\t\t\t\t@page-change=\"handlePageChange\"\r\n\t\t\t\t\t:pagination-info=\"paginationInfo\"\r\n\t\t\t\t\t:default-sort=\"{prop:sortingProp, order:sortingOrder}\"\r\n\t\t\t\t\t@sort-change=\"handleSortChange\"\r\n\t\t\t\t\t@select-change=\"handleSelectChange\"\r\n\t\t\t\t\t:show-summary=\"showSummary\"\r\n\t\t\t\t\t:shown-pagination=\"shownPagination\">\r\n\t\t\t\t\t<v2-table-column type=\"selection\" width=\"45\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Name\" prop=\"full_name\" sortable width=\"200\" align=\"left\" :fixed=\"isMobile?'':'left'\">\r\n\t\t\t\t\t\t<template slot-scope=\"row\">\r\n\t\t\t\t\t\t\t<span class=\"sel-string\" v-html=\"$options.filters.selected(row.full_name, search)\"></span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Birthday\" prop=\"birth_day\" sortable width=\"100\" :fixed=\"isMobile?'':'right'\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Email\" prop=\"email\" sortable width=\"250\">\r\n\t\t\t\t\t\t<template slot-scope=\"row\">\r\n\t\t\t\t\t\t\t<span class=\"sel-string\" v-html=\"$options.filters.selected(row.email, search)\"></span>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Gender\" prop=\"gender\" sortable></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Job title\" prop=\"job_title\" sortable width=\"200\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Company\" prop=\"company\" sortable width=\"120\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"City\" prop=\"city\" sortable width=\"200\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Country\" prop=\"country\" sortable></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Address\" prop=\"street_address\" sortable>\r\n\t\t\t\t\t\t<template slot-scope=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"custom-action-row\">\r\n\t\t\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" :content=\"row.street_address\" placement=\"left\">\r\n\t\t\t\t\t\t\t\t\t<span>{{row.street_address}}</span>\r\n\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t</div> \r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Phone\" prop=\"phone\" sortable width=\"150\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Username\" prop=\"username\" sortable width=\"200\"></v2-table-column>\r\n\t\t\t\t\t<v2-table-column label=\"Action\" width=\"70\" :fixed=\"isMobile?'':'right'\">\r\n\t\t\t\t\t\t<template slot-scope=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"custom-action-row\">\r\n\t\t\t\t\t\t\t\t<el-button @click=\"print(row)\"><i class=\"mdi mdi-eye\"></i></el-button>\r\n\t\t\t\t\t\t\t</div> \r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</v2-table-column>\r\n\t\t\t\t</component><!-- v2-table -->\r\n\r\n\t\t\t</div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport users from '@/assets/data/USERS_MOCK_DATA.json'\r\nimport moment from 'moment-timezone'\r\n// import Papa from 'papaparse'\r\nimport * as FS from 'file-saver'\r\n\r\nexport default {\r\n\tname: 'V2TablePage',\r\n\tdata () {\r\n      \treturn {\r\n\t\t\tisMobile: false,\r\n\t\t\tasyncComponent: null,\r\n\t\t\twidth: 0,\r\n\t\t\theight: 'auto',\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tloading: false,\r\n\t\t\tshownPagination: true,\r\n\t\t\tshowSummary: false,\r\n\t\t\tsearch: '',\r\n\t\t\tpaginationInfo: {\r\n\t\t\t\t//text: `<span><strong>20</strong> per page</span>`,\r\n\t\t\t\tpageSize: 20,\r\n\t\t\t\tnextPageText: '›',\r\n\t\t\t\tprevPageText: '‹' \r\n\t\t\t},\r\n\t\t\tsortingProp: \"birth_day\", \r\n\t\t\tsortingOrder: \"descending\",\r\n\t\t\tlist: users\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tlistFiltered() {\r\n\t\t\treturn this.list.filter((obj) => {\r\n\t\t\t\tlet ctrl = false\r\n\t\t\t\tfor(let k in obj) {\r\n\t\t\t\t\tif(obj[k] && obj[k].toString().toLowerCase().indexOf(this.search.toLowerCase()) !== -1) ctrl = true\r\n\t\t\t\t}\r\n\t\t\t\treturn ctrl\r\n\t\t\t})\r\n\t\t},\r\n\t\tlistSortered() {\r\n\t\t\tlet prop = this.sortingProp\r\n\t\t\tlet order = this.sortingOrder\r\n\t\t\treturn [].concat(this.listFiltered.sort((item1, item2) => {\r\n\t\t\t\tlet val1 = '';\r\n\t\t\t\tlet val2 = '';\r\n\r\n\t\t\t\t/*if (prop === 'formatted_date') {\r\n\t\t\t\t\tval1 = parseInt(moment(item1[prop], 'DD/MM/YYYY').format('x'))\r\n\t\t\t\t\tval2 = parseInt(moment(item2[prop], 'DD/MM/YYYY').format('x'))\r\n\t\t\t\t\tif (order === 'descending') {\r\n\t\t\t\t\t\treturn val2 < val1 ? -1 : 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn val1 < val2 ? -1 : 1\r\n\t\t\t\t}*/\r\n\r\n\t\t\t\tval1 = item1[prop];\r\n\t\t\t\tval2 = item2[prop]\r\n\t\t\t\tif (order === 'descending') {\r\n\t\t\t\t\treturn val2 < val1 ? -1 : 1\r\n\t\t\t\t}\r\n\t\t\t\treturn val1 < val2 ? -1 : 1\r\n\t\t\t}))\r\n\t\t},\r\n\t\tlistInPage() {\r\n\t\t\tlet from = (this.currentPage - 1) * this.pageSize\r\n\t\t\tlet to = from + (this.pageSize*1)\r\n\t\t\treturn this.listSortered.slice(from, to)\r\n\t\t},\r\n\t\ttotal() {\r\n\t\t\treturn this.listFiltered.length\r\n\t\t},\r\n\t\tpageSize() {\r\n\t\t\treturn this.paginationInfo.pageSize\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\ttotal(val) {\r\n\t\t\tthis.updatePaginationText()\r\n\t\t},\r\n\t\tasyncComponent(val) {\r\n\t\t\tthis.updatePaginationText()\r\n\t\t},\r\n\t\tpageSize(val) {\r\n\t\t\tthis.asyncComponent = null\r\n\t\t\tthis.currentPage = 1\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.asyncComponent = 'v2-table'\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tsearch(val) {\r\n\t\t\tthis.currentPage = 1\r\n\t\t},\r\n\t\tcurrentPage(val) {\r\n\t\t\tthis.$refs.table.curPage = val\r\n\t\t}\r\n\t},\r\n    methods: {\r\n\t\tupdatePaginationText() {\r\n\t\t\tthis.paginationInfo.text = `<span>Total of <strong>${this.total}</strong>, <strong>${this.paginationInfo.pageSize}</strong> per page</span>`\r\n\t\t},\r\n\t\thandlePageChange(page) {\r\n\t\t\tthis.currentPage = page\r\n\t\t},\r\n\t\thandleSortChange( {prop, order} ) {\r\n\t\t\tthis.sortingProp = prop\r\n\t\t\tthis.sortingOrder = order\r\n\t\t},\r\n\t\thandleSelectChange (rows) {\r\n\t\t\tconsole.log('handleSelectChange', rows);\r\n\t\t},\r\n\t\tdownloadCSV() {\r\n\t\t\t// var dataCSV = Papa.unparse(this.listFiltered, {header: true});\r\n\t\t\t// const blob = new Blob([dataCSV], {type: 'text/csv;charset=utf-8'})\r\n\t\t\t// FS.saveAs(blob, 'list.csv')\r\n\t\t},\r\n\t\tprint(row) {\r\n\t\t\tlet message = ''\r\n\r\n\t\t\tfor(let k in row) {\r\n\t\t\t\tmessage += k+': <strong>'+row[k]+'</strong><br>'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.$alert(message, row.full_name || 'Message', {\r\n\t\t\t\tdangerouslyUseHTMLString: true \r\n\t\t\t});\r\n\t\t},\r\n\t\tcalcDims() {\r\n\t\t\tthis.width = document.getElementById('table-wrapper').clientWidth\r\n\r\n\t\t\tif(!this.isMobile) {\r\n\t\t\t\tthis.height = document.getElementById('table-wrapper').clientHeight - 40\r\n\t\t\t\tif(this.showSummary) this.height -= 40\r\n\t\t\t\tif(this.shownPagination) this.height -= 40\r\n\t\t\t}\r\n\r\n\t\t\tthis.asyncComponent = 'v2-table'\r\n\t\t},\r\n\t\thandleResize: _.throttle(function (e) {\r\n\t\t\tthis.asyncComponent = null\r\n\t\t\tthis.width = 0\r\n\t\t\tthis.currentPage = 1\r\n\t\t\tsetTimeout(this.calcDims,1000)\r\n\t\t}, 500)\r\n\t},\r\n\tfilters: {\r\n\t\tselected: function (value, sel) {\r\n\t\t\tif (!value) return ''\r\n\t\t\tif (!sel) return value\r\n\t\t\treturn value.toString().replace(new RegExp(sel,\"gim\"), `<span class=\"sel\">${sel}</span>`)\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tif(window.innerWidth <= 768) \r\n\t\t\tthis.isMobile = true\t\r\n\r\n\t\tthis.updatePaginationText()\r\n\t},\r\n\tmounted() {\r\n\t\t//ie fix\r\n\t\tif(!window.Number.parseInt) window.Number.parseInt = parseInt\r\n\t\t\r\n\t\tthis.calcDims()\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../../assets/scss/_variables';\r\n.page-table {\r\n\t&.overflow {\r\n\t\toverflow: auto;\r\n\t}\r\n\t\r\n\t.table-box {\r\n\t\toverflow: hidden;\r\n\t}\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n@import '../../../assets/scss/_variables';\r\n.page-table {\r\n\t.custom-action-row {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\r\n\t\t.el-button {\r\n\t\t\tpadding: 1px 5px;\r\n\t\t}\r\n\t}\r\n\r\n\t.toolbar-box {\r\n\t\tmargin-top: 20px;\r\n\r\n\t\t.search-box {\r\n\t\t\t& > div {\r\n\t\t\t\twidth: 20px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\r\n\t\t\tmargin-bottom: 10px;\r\n\r\n\t\t\ti {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 22px;\r\n\t\t\t}\r\n\r\n\t\t\tinput {\r\n\t\t\t\toutline: none;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tfont-size: 15px;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tmargin-left: -20px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tpadding-left: 20px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\ttop: -1px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tcolor: $text-color;\r\n\t\t\t}\r\n\r\n\t\t\t.icons-tot {\r\n\t\t\t\tmargin-right: 20px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.pagination-box {\r\n\t\t\twidth: 120px;\r\n\t\t\tmargin: 0 15px;\r\n\r\n\t\t\t.select-box {\r\n\t\t\t\twidth: 70px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\r\n\t\t\t.label {\r\n\t\t\t\twidth: 50px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\r\n\t\t\t.el-input__inner {\r\n\t\t\t\theight: 22px;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t\tfont-size: 16px;\r\n\t\t\t\ttext-align: right;\r\n\t\t\t\tfont-family: inherit;\r\n\t\t\t\tpadding-right: 20px;\r\n\t\t\t\tcolor: $text-color;\r\n\t\t\t}\r\n\r\n\t\t\t.el-input__suffix {\r\n\t\t\t\tright: -3px;\r\n\r\n\t\t\t\t.el-select__caret {\r\n\t\t\t\t\tcolor: transparentize($text-color, 0.7);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ta, button {\r\n\t\t\tpadding: 0;\r\n\t\t\tmargin: 0 15px;\r\n\t\t\tbackground: transparent;\r\n\t\t\tborder: none;\r\n\t\t\toutline: none;\r\n\t\t\tfont-family: inherit;\r\n\t\t\tfont-size: inherit;\r\n\t\t\tcursor: pointer;\r\n\r\n\t\t\tborder-bottom: 1px solid;\r\n\t\t\ttext-decoration: none;\r\n\t\t\tcolor: $text-color;\r\n\t\t\t&:hover {\r\n\t\t\t\topacity: .6;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ta {\r\n\t\t\tmargin-right: 0;\r\n\t\t}\r\n\t}\r\n\r\n\t.sel-string {\r\n\t\t.sel {\r\n\t\t\tbackground: transparentize($text-color, 0.8);\r\n\t\t\tborder-radius: 5px;\r\n\t\t\ttext-transform: uppercase;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n@media (max-width: 768px) {\r\n\t.page-table {\r\n\t\t.toolbar-box {\r\n\t\t\tdisplay: block;\r\n\t\t\toverflow: hidden;\r\n\t\t\tfont-size: 80%;\r\n\t\t\r\n\t\t\t& > * {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmin-width: 120px;\r\n\t\t\t\theight: 22px;\r\n\t\t\t\tbackground: rgba(0, 0, 0, 0.04);\r\n\t\t\t\tpadding: 4px;\r\n\t\t\t\tmargin: 3px !important;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/ui/Tables"}]}