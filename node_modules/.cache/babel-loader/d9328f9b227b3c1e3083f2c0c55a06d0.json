{"remainingRequest":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/thread-loader/dist/cjs.js!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/ui/Tables/V2TablePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/views/ui/Tables/V2TablePage.vue","mtime":1640440455026},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/.babelrc","mtime":1640440444342},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1640440446558},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/thread-loader/dist/cjs.js","mtime":1640440453952},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js","mtime":1640440446305},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1640440446558},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/vue-loader/lib/index.js","mtime":1640440454211}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport users from '@/assets/data/USERS_MOCK_DATA.json';\nimport moment from 'moment-timezone'; // import Papa from 'papaparse'\n\nimport * as FS from 'file-saver';\nexport default {\n  name: 'V2TablePage',\n  data: function data() {\n    return {\n      isMobile: false,\n      asyncComponent: null,\n      width: 0,\n      height: 'auto',\n      currentPage: 1,\n      loading: false,\n      shownPagination: true,\n      showSummary: false,\n      search: '',\n      paginationInfo: {\n        //text: `<span><strong>20</strong> per page</span>`,\n        pageSize: 20,\n        nextPageText: '›',\n        prevPageText: '‹'\n      },\n      sortingProp: \"birth_day\",\n      sortingOrder: \"descending\",\n      list: users\n    };\n  },\n  computed: {\n    listFiltered: function listFiltered() {\n      var _this = this;\n\n      return this.list.filter(function (obj) {\n        var ctrl = false;\n\n        for (var k in obj) {\n          if (obj[k] && obj[k].toString().toLowerCase().indexOf(_this.search.toLowerCase()) !== -1) ctrl = true;\n        }\n\n        return ctrl;\n      });\n    },\n    listSortered: function listSortered() {\n      var prop = this.sortingProp;\n      var order = this.sortingOrder;\n      return [].concat(this.listFiltered.sort(function (item1, item2) {\n        var val1 = '';\n        var val2 = '';\n        /*if (prop === 'formatted_date') {\n        \tval1 = parseInt(moment(item1[prop], 'DD/MM/YYYY').format('x'))\n        \tval2 = parseInt(moment(item2[prop], 'DD/MM/YYYY').format('x'))\n        \tif (order === 'descending') {\n        \t\treturn val2 < val1 ? -1 : 1\n        \t}\n        \treturn val1 < val2 ? -1 : 1\n        }*/\n\n        val1 = item1[prop];\n        val2 = item2[prop];\n\n        if (order === 'descending') {\n          return val2 < val1 ? -1 : 1;\n        }\n\n        return val1 < val2 ? -1 : 1;\n      }));\n    },\n    listInPage: function listInPage() {\n      var from = (this.currentPage - 1) * this.pageSize;\n      var to = from + this.pageSize * 1;\n      return this.listSortered.slice(from, to);\n    },\n    total: function total() {\n      return this.listFiltered.length;\n    },\n    pageSize: function pageSize() {\n      return this.paginationInfo.pageSize;\n    }\n  },\n  watch: {\n    total: function total(val) {\n      this.updatePaginationText();\n    },\n    asyncComponent: function asyncComponent(val) {\n      this.updatePaginationText();\n    },\n    pageSize: function pageSize(val) {\n      var _this2 = this;\n\n      this.asyncComponent = null;\n      this.currentPage = 1;\n      setTimeout(function () {\n        _this2.asyncComponent = 'v2-table';\n      }, 500);\n    },\n    search: function search(val) {\n      this.currentPage = 1;\n    },\n    currentPage: function currentPage(val) {\n      this.$refs.table.curPage = val;\n    }\n  },\n  methods: {\n    updatePaginationText: function updatePaginationText() {\n      this.paginationInfo.text = \"<span>Total of <strong>\".concat(this.total, \"</strong>, <strong>\").concat(this.paginationInfo.pageSize, \"</strong> per page</span>\");\n    },\n    handlePageChange: function handlePageChange(page) {\n      this.currentPage = page;\n    },\n    handleSortChange: function handleSortChange(_ref) {\n      var prop = _ref.prop,\n          order = _ref.order;\n      this.sortingProp = prop;\n      this.sortingOrder = order;\n    },\n    handleSelectChange: function handleSelectChange(rows) {\n      console.log('handleSelectChange', rows);\n    },\n    downloadCSV: function downloadCSV() {// var dataCSV = Papa.unparse(this.listFiltered, {header: true});\n      // const blob = new Blob([dataCSV], {type: 'text/csv;charset=utf-8'})\n      // FS.saveAs(blob, 'list.csv')\n    },\n    print: function print(row) {\n      var message = '';\n\n      for (var k in row) {\n        message += k + ': <strong>' + row[k] + '</strong><br>';\n      }\n\n      this.$alert(message, row.full_name || 'Message', {\n        dangerouslyUseHTMLString: true\n      });\n    },\n    calcDims: function calcDims() {\n      this.width = document.getElementById('table-wrapper').clientWidth;\n\n      if (!this.isMobile) {\n        this.height = document.getElementById('table-wrapper').clientHeight - 40;\n        if (this.showSummary) this.height -= 40;\n        if (this.shownPagination) this.height -= 40;\n      }\n\n      this.asyncComponent = 'v2-table';\n    },\n    handleResize: _.throttle(function (e) {\n      this.asyncComponent = null;\n      this.width = 0;\n      this.currentPage = 1;\n      setTimeout(this.calcDims, 1000);\n    }, 500)\n  },\n  filters: {\n    selected: function selected(value, sel) {\n      if (!value) return '';\n      if (!sel) return value;\n      return value.toString().replace(new RegExp(sel, \"gim\"), \"<span class=\\\"sel\\\">\".concat(sel, \"</span>\"));\n    }\n  },\n  created: function created() {\n    if (window.innerWidth <= 768) this.isMobile = true;\n    this.updatePaginationText();\n  },\n  mounted: function mounted() {\n    //ie fix\n    if (!window.Number.parseInt) window.Number.parseInt = parseInt;\n    this.calcDims();\n  }\n};",{"version":3,"sources":["V2TablePage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<div class=\"page-table column scrollable only-y\" :class=\"{'flex':!isMobile, 'overflow':isMobile}\">\n\t\t<div class=\"page-header\">\n\t\t\t<h1>V2 Table</h1>\n\t\t\t<h4>for a better experience on Mac OS during horizontal scroll is prefered disable the \"Swipe between pages\" option </h4>\n\t\t\t<el-breadcrumb separator=\"/\">\n\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/' }\"><i class=\"mdi mdi-home-outline\"></i></el-breadcrumb-item>\n\t\t\t\t<el-breadcrumb-item>Components</el-breadcrumb-item>\n\t\t\t\t<el-breadcrumb-item>Tables</el-breadcrumb-item>\n\t\t\t\t<el-breadcrumb-item>V2 Table</el-breadcrumb-item>\n\t\t\t</el-breadcrumb>\n\t\t</div>\n\n\t\t<div class=\"toolbar-box flex\">\n\t\t\t<div class=\"search-box box grow\">\n\t\t\t\t<div><i class=\"mdi mdi-magnify\"></i></div>\n\t\t\t\t<input v-model=\"search\" placeholder=\"Search...\"/>\n\t\t\t</div>\n\t\t\t<div class=\"pagination-box animated fadeInRight\">\n\t\t\t\t<div class=\"select-box\">\n\t\t\t\t\t<el-select v-model=\"paginationInfo.pageSize\" placeholder=\"Rows per page\" size=\"mini\">\n\t\t\t\t\t\t<el-option value=\"10\" label=\"10\"></el-option>\n\t\t\t\t\t\t<el-option value=\"15\" label=\"15\"></el-option>\n\t\t\t\t\t\t<el-option value=\"20\" label=\"20\"></el-option>\n\t\t\t\t\t\t<el-option value=\"30\" label=\"30\"></el-option>\n\t\t\t\t\t\t<el-option value=\"50\" label=\"50\"></el-option>\n\t\t\t\t\t\t<el-option value=\"100\" label=\"100\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"label\">/page</div>\n\t\t\t</div>\n\t\t\t<div class=\"csv-box animated fadeInRight\">\n\t\t\t\t<button @click=\"downloadCSV\">download csv ({{total}})</button>\n\t\t\t</div>\n\t\t\t<div class=\"animated fadeInRight\"><a href=\"https://github.com/dwqs/v2-table\" target=\"_blank\"><i class=\"mdi mdi-link-variant\"></i> reference</a></div>\n\t\t</div>\n\n\t\t<resize-observer @notify=\"handleResize\" />\n\t\t\n\t\t<div class=\"table-box card-base card-shadow--medium box grow\" id=\"table-wrapper\" v-loading=\"!asyncComponent\">\n\t\t\t<div :style=\"{ 'width': width + 'px' }\">\n\t\t\t\t<!-- v2-table -->\n\t\t\t\t<component :is=\"asyncComponent\" ref=\"table\"\n\t\t\t\t \t:data=\"listInPage\"\n\t\t\t\t\t:height=\"height\"\n\t\t\t\t\t:border=\"false\"\n\t\t\t\t\t:total=\"total\"\n\t\t\t\t\t:lazy-load=\"false\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\tclass=\"styled\"\n\t\t\t\t\t:class=\"{'mobile':isMobile}\"\n\t\t\t\t\t@page-change=\"handlePageChange\"\n\t\t\t\t\t:pagination-info=\"paginationInfo\"\n\t\t\t\t\t:default-sort=\"{prop:sortingProp, order:sortingOrder}\"\n\t\t\t\t\t@sort-change=\"handleSortChange\"\n\t\t\t\t\t@select-change=\"handleSelectChange\"\n\t\t\t\t\t:show-summary=\"showSummary\"\n\t\t\t\t\t:shown-pagination=\"shownPagination\">\n\t\t\t\t\t<v2-table-column type=\"selection\" width=\"45\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Name\" prop=\"full_name\" sortable width=\"200\" align=\"left\" :fixed=\"isMobile?'':'left'\">\n\t\t\t\t\t\t<template slot-scope=\"row\">\n\t\t\t\t\t\t\t<span class=\"sel-string\" v-html=\"$options.filters.selected(row.full_name, search)\"></span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Birthday\" prop=\"birth_day\" sortable width=\"100\" :fixed=\"isMobile?'':'right'\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Email\" prop=\"email\" sortable width=\"250\">\n\t\t\t\t\t\t<template slot-scope=\"row\">\n\t\t\t\t\t\t\t<span class=\"sel-string\" v-html=\"$options.filters.selected(row.email, search)\"></span>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Gender\" prop=\"gender\" sortable></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Job title\" prop=\"job_title\" sortable width=\"200\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Company\" prop=\"company\" sortable width=\"120\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"City\" prop=\"city\" sortable width=\"200\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Country\" prop=\"country\" sortable></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Address\" prop=\"street_address\" sortable>\n\t\t\t\t\t\t<template slot-scope=\"row\">\n\t\t\t\t\t\t\t<div class=\"custom-action-row\">\n\t\t\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" :content=\"row.street_address\" placement=\"left\">\n\t\t\t\t\t\t\t\t\t<span>{{row.street_address}}</span>\n\t\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Phone\" prop=\"phone\" sortable width=\"150\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Username\" prop=\"username\" sortable width=\"200\"></v2-table-column>\n\t\t\t\t\t<v2-table-column label=\"Action\" width=\"70\" :fixed=\"isMobile?'':'right'\">\n\t\t\t\t\t\t<template slot-scope=\"row\">\n\t\t\t\t\t\t\t<div class=\"custom-action-row\">\n\t\t\t\t\t\t\t\t<el-button @click=\"print(row)\"><i class=\"mdi mdi-eye\"></i></el-button>\n\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v2-table-column>\n\t\t\t\t</component><!-- v2-table -->\n\n\t\t\t</div>\n        </div>\n\t</div>\n</template>\n\n<script>\nimport users from '@/assets/data/USERS_MOCK_DATA.json'\nimport moment from 'moment-timezone'\n// import Papa from 'papaparse'\nimport * as FS from 'file-saver'\n\nexport default {\n\tname: 'V2TablePage',\n\tdata () {\n      \treturn {\n\t\t\tisMobile: false,\n\t\t\tasyncComponent: null,\n\t\t\twidth: 0,\n\t\t\theight: 'auto',\n\t\t\tcurrentPage: 1,\n\t\t\tloading: false,\n\t\t\tshownPagination: true,\n\t\t\tshowSummary: false,\n\t\t\tsearch: '',\n\t\t\tpaginationInfo: {\n\t\t\t\t//text: `<span><strong>20</strong> per page</span>`,\n\t\t\t\tpageSize: 20,\n\t\t\t\tnextPageText: '›',\n\t\t\t\tprevPageText: '‹' \n\t\t\t},\n\t\t\tsortingProp: \"birth_day\", \n\t\t\tsortingOrder: \"descending\",\n\t\t\tlist: users\n\t\t}\n\t},\n\tcomputed: {\n\t\tlistFiltered() {\n\t\t\treturn this.list.filter((obj) => {\n\t\t\t\tlet ctrl = false\n\t\t\t\tfor(let k in obj) {\n\t\t\t\t\tif(obj[k] && obj[k].toString().toLowerCase().indexOf(this.search.toLowerCase()) !== -1) ctrl = true\n\t\t\t\t}\n\t\t\t\treturn ctrl\n\t\t\t})\n\t\t},\n\t\tlistSortered() {\n\t\t\tlet prop = this.sortingProp\n\t\t\tlet order = this.sortingOrder\n\t\t\treturn [].concat(this.listFiltered.sort((item1, item2) => {\n\t\t\t\tlet val1 = '';\n\t\t\t\tlet val2 = '';\n\n\t\t\t\t/*if (prop === 'formatted_date') {\n\t\t\t\t\tval1 = parseInt(moment(item1[prop], 'DD/MM/YYYY').format('x'))\n\t\t\t\t\tval2 = parseInt(moment(item2[prop], 'DD/MM/YYYY').format('x'))\n\t\t\t\t\tif (order === 'descending') {\n\t\t\t\t\t\treturn val2 < val1 ? -1 : 1\n\t\t\t\t\t}\n\t\t\t\t\treturn val1 < val2 ? -1 : 1\n\t\t\t\t}*/\n\n\t\t\t\tval1 = item1[prop];\n\t\t\t\tval2 = item2[prop]\n\t\t\t\tif (order === 'descending') {\n\t\t\t\t\treturn val2 < val1 ? -1 : 1\n\t\t\t\t}\n\t\t\t\treturn val1 < val2 ? -1 : 1\n\t\t\t}))\n\t\t},\n\t\tlistInPage() {\n\t\t\tlet from = (this.currentPage - 1) * this.pageSize\n\t\t\tlet to = from + (this.pageSize*1)\n\t\t\treturn this.listSortered.slice(from, to)\n\t\t},\n\t\ttotal() {\n\t\t\treturn this.listFiltered.length\n\t\t},\n\t\tpageSize() {\n\t\t\treturn this.paginationInfo.pageSize\n\t\t}\n\t},\n\twatch: {\n\t\ttotal(val) {\n\t\t\tthis.updatePaginationText()\n\t\t},\n\t\tasyncComponent(val) {\n\t\t\tthis.updatePaginationText()\n\t\t},\n\t\tpageSize(val) {\n\t\t\tthis.asyncComponent = null\n\t\t\tthis.currentPage = 1\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.asyncComponent = 'v2-table'\n\t\t\t}, 500);\n\t\t},\n\t\tsearch(val) {\n\t\t\tthis.currentPage = 1\n\t\t},\n\t\tcurrentPage(val) {\n\t\t\tthis.$refs.table.curPage = val\n\t\t}\n\t},\n    methods: {\n\t\tupdatePaginationText() {\n\t\t\tthis.paginationInfo.text = `<span>Total of <strong>${this.total}</strong>, <strong>${this.paginationInfo.pageSize}</strong> per page</span>`\n\t\t},\n\t\thandlePageChange(page) {\n\t\t\tthis.currentPage = page\n\t\t},\n\t\thandleSortChange( {prop, order} ) {\n\t\t\tthis.sortingProp = prop\n\t\t\tthis.sortingOrder = order\n\t\t},\n\t\thandleSelectChange (rows) {\n\t\t\tconsole.log('handleSelectChange', rows);\n\t\t},\n\t\tdownloadCSV() {\n\t\t\t// var dataCSV = Papa.unparse(this.listFiltered, {header: true});\n\t\t\t// const blob = new Blob([dataCSV], {type: 'text/csv;charset=utf-8'})\n\t\t\t// FS.saveAs(blob, 'list.csv')\n\t\t},\n\t\tprint(row) {\n\t\t\tlet message = ''\n\n\t\t\tfor(let k in row) {\n\t\t\t\tmessage += k+': <strong>'+row[k]+'</strong><br>'\n\t\t\t}\n\t\t\t\n\t\t\tthis.$alert(message, row.full_name || 'Message', {\n\t\t\t\tdangerouslyUseHTMLString: true \n\t\t\t});\n\t\t},\n\t\tcalcDims() {\n\t\t\tthis.width = document.getElementById('table-wrapper').clientWidth\n\n\t\t\tif(!this.isMobile) {\n\t\t\t\tthis.height = document.getElementById('table-wrapper').clientHeight - 40\n\t\t\t\tif(this.showSummary) this.height -= 40\n\t\t\t\tif(this.shownPagination) this.height -= 40\n\t\t\t}\n\n\t\t\tthis.asyncComponent = 'v2-table'\n\t\t},\n\t\thandleResize: _.throttle(function (e) {\n\t\t\tthis.asyncComponent = null\n\t\t\tthis.width = 0\n\t\t\tthis.currentPage = 1\n\t\t\tsetTimeout(this.calcDims,1000)\n\t\t}, 500)\n\t},\n\tfilters: {\n\t\tselected: function (value, sel) {\n\t\t\tif (!value) return ''\n\t\t\tif (!sel) return value\n\t\t\treturn value.toString().replace(new RegExp(sel,\"gim\"), `<span class=\"sel\">${sel}</span>`)\n\t\t}\n\t},\n\tcreated() {\n\t\tif(window.innerWidth <= 768) \n\t\t\tthis.isMobile = true\t\n\n\t\tthis.updatePaginationText()\n\t},\n\tmounted() {\n\t\t//ie fix\n\t\tif(!window.Number.parseInt) window.Number.parseInt = parseInt\n\t\t\n\t\tthis.calcDims()\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../../assets/scss/_variables';\n.page-table {\n\t&.overflow {\n\t\toverflow: auto;\n\t}\n\t\n\t.table-box {\n\t\toverflow: hidden;\n\t}\n}\n</style>\n<style lang=\"scss\">\n@import '../../../assets/scss/_variables';\n.page-table {\n\t.custom-action-row {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\n\t\t.el-button {\n\t\t\tpadding: 1px 5px;\n\t\t}\n\t}\n\n\t.toolbar-box {\n\t\tmargin-top: 20px;\n\n\t\t.search-box {\n\t\t\t& > div {\n\t\t\t\twidth: 20px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t}\n\n\t\t\tmargin-bottom: 10px;\n\n\t\t\ti {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 22px;\n\t\t\t}\n\n\t\t\tinput {\n\t\t\t\toutline: none;\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tfont-size: 15px;\n\t\t\t\tposition: relative;\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin-left: -20px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding-left: 20px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\ttop: -1px;\n\t\t\t\twidth: 100%;\n\t\t\t\tcolor: $text-color;\n\t\t\t}\n\n\t\t\t.icons-tot {\n\t\t\t\tmargin-right: 20px;\n\t\t\t}\n\t\t}\n\n\t\t.pagination-box {\n\t\t\twidth: 120px;\n\t\t\tmargin: 0 15px;\n\n\t\t\t.select-box {\n\t\t\t\twidth: 70px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t}\n\n\t\t\t.label {\n\t\t\t\twidth: 50px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t}\n\n\t\t\t.el-input__inner {\n\t\t\t\theight: 22px;\n\t\t\t\tborder: none;\n\t\t\t\tbackground: transparent;\n\t\t\t\tfont-size: 16px;\n\t\t\t\ttext-align: right;\n\t\t\t\tfont-family: inherit;\n\t\t\t\tpadding-right: 20px;\n\t\t\t\tcolor: $text-color;\n\t\t\t}\n\n\t\t\t.el-input__suffix {\n\t\t\t\tright: -3px;\n\n\t\t\t\t.el-select__caret {\n\t\t\t\t\tcolor: transparentize($text-color, 0.7);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ta, button {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0 15px;\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\toutline: none;\n\t\t\tfont-family: inherit;\n\t\t\tfont-size: inherit;\n\t\t\tcursor: pointer;\n\n\t\t\tborder-bottom: 1px solid;\n\t\t\ttext-decoration: none;\n\t\t\tcolor: $text-color;\n\t\t\t&:hover {\n\t\t\t\topacity: .6;\n\t\t\t}\n\t\t}\n\n\t\ta {\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n\n\t.sel-string {\n\t\t.sel {\n\t\t\tbackground: transparentize($text-color, 0.8);\n\t\t\tborder-radius: 5px;\n\t\t\ttext-transform: uppercase;\n\t\t}\n\t}\n}\n\n@media (max-width: 768px) {\n\t.page-table {\n\t\t.toolbar-box {\n\t\t\tdisplay: block;\n\t\t\toverflow: hidden;\n\t\t\tfont-size: 80%;\n\t\t\n\t\t\t& > * {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tmin-width: 120px;\n\t\t\t\theight: 22px;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.04);\n\t\t\t\tpadding: 4px;\n\t\t\t\tmargin: 3px !important;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n\n"],"sourceRoot":"src/views/ui/Tables"}]}