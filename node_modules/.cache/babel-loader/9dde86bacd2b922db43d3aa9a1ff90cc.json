{"remainingRequest":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/profile/action.js","dependencies":[{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/profile/action.js","mtime":1640440454970},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/.babelrc","mtime":1640440444342},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1640440446558},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js","mtime":1640440446305}],"contextDependencies":[],"result":["import _defineProperty from \"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nvar _action$DATA_PROFILE$;\n\nimport * as action from \"../../action-types\";\nimport * as mutation from \"../../mutation-types\";\nimport localAxios from \"../../../services/http/client\";\nimport swal from 'sweetalert2';\nimport * as typeS from \"../../../services/path_service\";\nimport router from \"../../../router\";\nexport default (_action$DATA_PROFILE$ = {}, _defineProperty(_action$DATA_PROFILE$, action.DATA_PROFILE, function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var commit, dispatch, token, _yield$localAxios$get, data, objList;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref.commit, dispatch = _ref.dispatch;\n            _context.prev = 1;\n            token = localStorage.getItem('token');\n            _context.next = 5;\n            return localAxios.get('/user/me', {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            });\n\n          case 5:\n            _yield$localAxios$get = _context.sent;\n            data = _yield$localAxios$get.data;\n            objList = {\n              data: data.data\n            };\n            commit(mutation.SET_DATA_PROFILE, objList);\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            dispatch(action.DATA_ERROR, _context.t0);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 11]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_action$DATA_PROFILE$, action.EDIT_PROFILE_ADMIN, function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref3) {\n    var commit, dispatch, token, _yield$localAxios$get2, data, objList;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            commit = _ref3.commit, dispatch = _ref3.dispatch;\n            _context2.prev = 1;\n            token = localStorage.getItem('token');\n            _context2.next = 5;\n            return localAxios.get('/user/me', {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            });\n\n          case 5:\n            _yield$localAxios$get2 = _context2.sent;\n            data = _yield$localAxios$get2.data;\n            objList = {\n              data: data.data\n            };\n            commit(mutation.SET_DATA_PROFILE, objList);\n            router.replace({\n              path: '/edit-profile'\n            });\n            _context2.next = 15;\n            break;\n\n          case 12:\n            _context2.prev = 12;\n            _context2.t0 = _context2[\"catch\"](1);\n            dispatch(action.DATA_ERROR, _context2.t0);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 12]]);\n  }));\n\n  return function (_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}()), _defineProperty(_action$DATA_PROFILE$, action.UPDATE_PROFILE_ADMIN, function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref5, payload) {\n    var commit, dispatch, token, jsonData, _yield$localAxios$put, data;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            commit = _ref5.commit, dispatch = _ref5.dispatch;\n            _context3.prev = 1;\n            token = localStorage.getItem('token');\n            jsonData = JSON.stringify({\n              name: payload.name,\n              phonenumber: payload.phonenumber,\n              email: payload.email\n            });\n            _context3.next = 6;\n            return localAxios.put('/user/' + payload.iduser, jsonData, {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            });\n\n          case 6:\n            _yield$localAxios$put = _context3.sent;\n            data = _yield$localAxios$put.data;\n            commit(mutation.BUTTON_STATUS, false);\n            dispatch(action.DATA_PROFILE);\n            router.replace({\n              path: '/profile'\n            });\n            swal('Succes!', 'If you change your email, please check your email', 'success');\n            _context3.next = 19;\n            break;\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3[\"catch\"](1);\n            commit(mutation.BUTTON_STATUS, false);\n            swal(_context3.t0.response.data.message, '', 'error');\n            dispatch(action.DATA_ERROR, _context3.t0);\n\n          case 19:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 14]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref6.apply(this, arguments);\n  };\n}()), _action$DATA_PROFILE$);",{"version":3,"sources":["/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/profile/action.js"],"names":["action","mutation","localAxios","swal","typeS","router","DATA_PROFILE","commit","dispatch","token","localStorage","getItem","get","headers","data","objList","SET_DATA_PROFILE","DATA_ERROR","EDIT_PROFILE_ADMIN","replace","path","UPDATE_PROFILE_ADMIN","payload","jsonData","JSON","stringify","name","phonenumber","email","put","iduser","BUTTON_STATUS","response","message"],"mappings":"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","sourcesContent":["import * as action from '../../action-types'\nimport * as mutation from '../../mutation-types'\nimport localAxios from '../../../services/http/client'\nimport swal from 'sweetalert2'\nimport * as typeS from '../../../services/path_service'\nimport router from '../../../router'\n\nexport default {\n    async [action.DATA_PROFILE]({ commit, dispatch }) {\n        try {\n            let token = localStorage.getItem('token')\n            let { data } = await localAxios.get('/user/me', {\n                headers: { 'Authorization': 'Bearer ' + token }\n            })\n            let objList = {\n                data: data.data,\n            }\n            commit(mutation.SET_DATA_PROFILE, objList)\n\n        } catch (err) {\n            dispatch(action.DATA_ERROR, err)\n        }\n    },\n    async [action.EDIT_PROFILE_ADMIN]({ commit, dispatch }) {\n        try {\n            let token = localStorage.getItem('token')\n            let { data } = await localAxios.get('/user/me', {\n                headers: { 'Authorization': 'Bearer ' + token }\n            })\n            let objList = {\n                data: data.data,\n            }\n            commit(mutation.SET_DATA_PROFILE, objList)\n            router.replace({ path: '/edit-profile' })\n\n        } catch (err) {\n            dispatch(action.DATA_ERROR, err)\n        }\n    },\n    async [action.UPDATE_PROFILE_ADMIN]({ commit, dispatch }, payload) {\n        try {\n            let token = localStorage.getItem('token');\n            const jsonData = JSON.stringify({\n                name: payload.name,\n                phonenumber: payload.phonenumber,\n                email: payload.email,\n\n            });\n\n            let { data } = await localAxios.put('/user/' + payload.iduser,\n                jsonData,\n                {\n                    headers: { 'Authorization': 'Bearer ' + token }\n                })\n            commit(mutation.BUTTON_STATUS, false)\n            dispatch(action.DATA_PROFILE)\n            router.replace({ path: '/profile' })\n            swal(\n                'Succes!',\n                'If you change your email, please check your email',\n                'success'\n                )\n        } catch (err) {\n            commit(mutation.BUTTON_STATUS, false)\n            swal(err.response.data.message, '', 'error')\n            dispatch(action.DATA_ERROR, err)\n        }\n    },\n\n};"]}]}