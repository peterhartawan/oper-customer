{"remainingRequest":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js!/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/error/index.js","dependencies":[{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/error/index.js","mtime":1640440454000},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/.babelrc","mtime":1640440444000},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/cache-loader/dist/cjs.js","mtime":1641690455583},{"path":"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/babel-loader/lib/index.js","mtime":1641690444038}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\n\nvar _state, _mutations, _actions, _getters;\n\nimport localAxios from \"../../../services/http/client\";\nimport router from \"../../../router\";\nimport * as action from \"../../action-types\";\nimport * as mutation from \"../../mutation-types\";\nimport * as getter from \"../../getters-types\";\nimport * as typeS from \"../../../services/path_service\";\nimport swal from 'sweetalert2';\nvar state = (_state = {\n  error: null,\n  buttonStatus: false,\n  loading: false,\n  clearInput: false,\n  errorMessage: {\n    \"status\": false,\n    \"code\": 4200,\n    \"message\": null,\n    \"debug\": {}\n  },\n  buttonResendPIN: false,\n  buttonSuspend: false,\n  buttonDelete: false,\n  buttonActive: false,\n  buttonEdit: false\n}, _defineProperty(_state, \"buttonResendPIN\", false), _defineProperty(_state, \"buttonSearch\", false), _defineProperty(_state, \"buttonResActive\", false), _state);\nvar mutations = (_mutations = {}, _defineProperty(_mutations, mutation.SET_ERROR, function (state, payload) {\n  state.error = payload;\n}), _defineProperty(_mutations, mutation.BUTTON_STATUS, function (state, payload) {\n  state.buttonStatus = payload;\n}), _defineProperty(_mutations, mutation.SET_ERROR_MESSAGE, function (state, payload) {\n  state.errorMessage = payload;\n}), _defineProperty(_mutations, mutation.CLEAR_INPUT, function (state, payload) {\n  state.clearInput = payload;\n}), _defineProperty(_mutations, mutation.SET_LOADING, function (state, payload) {\n  state.loading = payload;\n}), _defineProperty(_mutations, mutation.SET_RESEND_PIN_BUTTON, function (state, payload) {\n  state.buttonResendPIN = payload;\n}), _defineProperty(_mutations, mutation.SET_BUTTON_SUSPEND, function (state, payload) {\n  state.buttonSuspend = payload;\n}), _defineProperty(_mutations, mutation.SET_BUTTON_DELETE, function (state, payload) {\n  state.buttonDelete = payload;\n}), _defineProperty(_mutations, mutation.SET_BUTTON_ACTIVE, function (state, payload) {\n  state.buttonActive = payload;\n}), _defineProperty(_mutations, mutation.SET_BUTTON_EDIT, function (state, payload) {\n  state.buttonEdit = payload;\n}), _defineProperty(_mutations, mutation.SET_SEARCH_BUTTON, function (state, payload) {\n  state.buttonSearch = payload;\n}), _defineProperty(_mutations, mutation.SET_BUTTON_RESEND_ACTIVE, function (state, payload) {\n  state.buttonResActive = payload;\n}), _mutations);\nvar actions = (_actions = {}, _defineProperty(_actions, action.DATA_ERROR, function (_ref, payload) {\n  var commit = _ref.commit,\n      dispatch = _ref.dispatch;\n\n  if (payload.response.status === 401) {\n    dispatch(action.USER_ME_ERROR);\n  }\n\n  commit(mutation.SET_ERROR_MESSAGE, payload.response.data);\n  commit(mutation.SET_ERROR, payload);\n}), _defineProperty(_actions, action.USER_ME_ERROR, function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2, payload) {\n    var commit, dispatch, token, userProfile;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref2.commit, dispatch = _ref2.dispatch;\n            _context.prev = 1;\n            token = localStorage.getItem('token');\n            _context.next = 5;\n            return localAxios.get(typeS.user_profile, {\n              headers: {\n                'Authorization': 'Bearer ' + token\n              }\n            });\n\n          case 5:\n            userProfile = _context.sent;\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n            if (_context.t0.response.status === 401) {\n              swal({\n                type: 'warning',\n                title: 'Your Current Session Has Been Expired, Please Login Again',\n                showConfirmButton: false,\n                timer: 3000\n              });\n              commit(mutation.CLEAR_AUTH_DATA);\n              commit(mutation.CLEAR_NOTIF);\n              localStorage.clear();\n              router.replace('/login');\n            }\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 8]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref3.apply(this, arguments);\n  };\n}()), _actions);\nvar getters = (_getters = {}, _defineProperty(_getters, getter.GET_ERROR, function (state) {\n  return state.error;\n}), _defineProperty(_getters, getter.GET_BUTTON, function (state) {\n  return state.buttonStatus;\n}), _defineProperty(_getters, getter.GET_ERROR_MESSAGE, function (state) {\n  return state.errorMessage;\n}), _defineProperty(_getters, getter.GET_CLEAR_INPUT, function (state) {\n  return state.clearInput;\n}), _defineProperty(_getters, getter.GET_LOADING, function (state) {\n  return state.loading;\n}), _defineProperty(_getters, getter.GET_BUTTON_RESEND_PIN, function (state) {\n  return state.buttonResendPIN;\n}), _defineProperty(_getters, getter.GET_BUTTON_SUSPEND, function (state) {\n  return state.buttonSuspend;\n}), _defineProperty(_getters, getter.GET_BUTTON_DELETE, function (state) {\n  return state.buttonDelete;\n}), _defineProperty(_getters, getter.GET_BUTTON_ACTIVE, function (state) {\n  return state.buttonActive;\n}), _defineProperty(_getters, getter.GET_BUTTON_EDIT, function (state) {\n  return state.buttonEdit;\n}), _defineProperty(_getters, getter.GET_SEARCH_BUTTON, function (state) {\n  return state.buttonSearch;\n}), _defineProperty(_getters, getter.GET_BUTTON_RESEND_ACTIVE, function (state) {\n  return state.buttonResActive;\n}), _getters);\nexport default {\n  state: state,\n  mutations: mutations,\n  actions: actions,\n  getters: getters\n};",{"version":3,"sources":["/Users/fnaufalh/www/docker-oper-workshop/htdocs/oper/oper-customer/src/store/modules/error/index.js"],"names":["localAxios","router","action","mutation","getter","typeS","swal","state","error","buttonStatus","loading","clearInput","errorMessage","buttonResendPIN","buttonSuspend","buttonDelete","buttonActive","buttonEdit","mutations","SET_ERROR","payload","BUTTON_STATUS","SET_ERROR_MESSAGE","CLEAR_INPUT","SET_LOADING","SET_RESEND_PIN_BUTTON","SET_BUTTON_SUSPEND","SET_BUTTON_DELETE","SET_BUTTON_ACTIVE","SET_BUTTON_EDIT","SET_SEARCH_BUTTON","buttonSearch","SET_BUTTON_RESEND_ACTIVE","buttonResActive","actions","DATA_ERROR","commit","dispatch","response","status","USER_ME_ERROR","data","token","localStorage","getItem","get","user_profile","headers","userProfile","console","log","type","title","showConfirmButton","timer","CLEAR_AUTH_DATA","CLEAR_NOTIF","clear","replace","getters","GET_ERROR","GET_BUTTON","GET_ERROR_MESSAGE","GET_CLEAR_INPUT","GET_LOADING","GET_BUTTON_RESEND_PIN","GET_BUTTON_SUSPEND","GET_BUTTON_DELETE","GET_BUTTON_ACTIVE","GET_BUTTON_EDIT","GET_SEARCH_BUTTON","GET_BUTTON_RESEND_ACTIVE"],"mappings":"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","sourcesContent":["import localAxios from '../../../services/http/client'\nimport router from '../../../router'\nimport * as action from '../../action-types'\nimport * as mutation from '../../mutation-types'\nimport * as getter from '../../getters-types'\nimport * as typeS from \"../../../services/path_service\";\nimport swal from 'sweetalert2';\n\nconst state = {\n    error           : null,\n    buttonStatus    : false,\n    loading         : false,\n    clearInput      : false,\n    errorMessage    : {\n        \"status\" : false,\n        \"code\" :    4200,\n        \"message\": null,\n        \"debug\": {}\n    },\n    buttonResendPIN : false,\n    buttonSuspend   : false,\n    buttonDelete    : false,\n    buttonActive    : false,\n    buttonEdit      : false,\n    buttonResendPIN : false,\n    buttonSearch    : false,\n    buttonResActive : false\n};\n\nconst mutations = {\n    [mutation.SET_ERROR](state, payload){\n        state.error = payload\n    },\n    [mutation.BUTTON_STATUS](state, payload){\n        state.buttonStatus = payload\n    },\n    [mutation.SET_ERROR_MESSAGE](state, payload){\n        state.errorMessage = payload\n    },\n    [mutation.CLEAR_INPUT](state, payload){\n        state.clearInput = payload\n    },\n    [mutation.SET_LOADING](state, payload){\n        state.loading = payload\n    },\n    [mutation.SET_RESEND_PIN_BUTTON](state, payload){\n        state.buttonResendPIN = payload\n    },\n    [mutation.SET_BUTTON_SUSPEND](state, payload){\n        state.buttonSuspend = payload\n    },\n    [mutation.SET_BUTTON_DELETE](state, payload){\n        state.buttonDelete = payload\n    },\n    [mutation.SET_BUTTON_ACTIVE](state, payload){\n        state.buttonActive = payload\n    },\n    [mutation.SET_BUTTON_EDIT](state, payload){\n        state.buttonEdit = payload\n    },\n    [mutation.SET_SEARCH_BUTTON](state, payload){\n        state.buttonSearch  = payload\n    },\n    [mutation.SET_BUTTON_RESEND_ACTIVE](state, payload){\n        state.buttonResActive = payload\n    }\n};\n\nconst actions = {\n    [action.DATA_ERROR]({commit, dispatch}, payload) {\n        if(payload.response.status === 401){\n            dispatch(action.USER_ME_ERROR);\n        }\n        commit(mutation.SET_ERROR_MESSAGE, payload.response.data)\n        commit(mutation.SET_ERROR, payload)\n    },\n    async [action.USER_ME_ERROR]({commit, dispatch},payload){\n        try{\n            let token = localStorage.getItem('token');\n            let userProfile = await localAxios.get(typeS.user_profile,{\n                headers: {'Authorization': 'Bearer '+token}\n            })\n        }catch (e) {\n            console.log(e)\n            if(e.response.status === 401){\n                swal({\n                    type: 'warning',\n                    title: 'Your Current Session Has Been Expired, Please Login Again',\n                    showConfirmButton: false,\n                    timer: 3000\n                });\n                commit(mutation.CLEAR_AUTH_DATA);\n                commit(mutation.CLEAR_NOTIF);\n                localStorage.clear();\n                router.replace('/login')\n            }\n        }\n    }\n};\n\nconst getters = {\n    [getter.GET_ERROR](state) {\n        return state.error\n    },\n    [getter.GET_BUTTON](state) {\n        return state.buttonStatus\n    },\n    [getter.GET_ERROR_MESSAGE](state){\n        return state.errorMessage\n    },\n    [getter.GET_CLEAR_INPUT](state){\n        return state.clearInput\n    },\n    [getter.GET_LOADING](state){\n        return state.loading\n    },\n    [getter.GET_BUTTON_RESEND_PIN](state){\n        return state.buttonResendPIN\n    },\n    [getter.GET_BUTTON_SUSPEND](state){\n        return state.buttonSuspend\n    },\n    [getter.GET_BUTTON_DELETE](state){\n        return state.buttonDelete\n    },\n    [getter.GET_BUTTON_ACTIVE](state){\n        return state.buttonActive\n    },\n    [getter.GET_BUTTON_EDIT](state){\n        return state.buttonEdit\n    },\n    [getter.GET_SEARCH_BUTTON](state){\n        return state.buttonSearch\n    },\n    [getter.GET_BUTTON_RESEND_ACTIVE](state){\n        return state.buttonResActive\n    }\n};\n\nexport default {\n    state,\n    mutations,\n    actions,\n    getters\n}"]}]}